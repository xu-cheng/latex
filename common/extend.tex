% Page geometry
\RequirePackage{geometry}
\geometry{
  a4paper,
  top=1.2in,
  bottom=1.2in,
  left=1in,
  right=1in,
  includefoot
}

% Load more packages
\RequirePackage{tabularx}
\RequirePackage{ltxtable}
\RequirePackage[inline]{enumitem}
\RequirePackage[compact]{titlesec}
\RequirePackage{titletoc}
\RequirePackage{tocvsec2}
\RequirePackage{fancyhdr}
\RequirePackage{afterpage}
\RequirePackage{datenumber}
\RequirePackage{appendix}
\RequirePackage[titles]{tocloft}
\RequirePackage{xstring}
\RequirePackage{perpage}

% Variables setting
\def\title#1{\gdef\@title{#1}\hypersetup{pdftitle={#1}}}
\title{}

\def\author#1{\gdef\@author{#1}\hypersetup{pdfauthor={#1}}}
\author{}

<% if chapter_defined? %>
% Figure and table numbering style
\renewcommand{\thetable}{\arabic{chapter}.\arabic{table}}
\renewcommand{\thefigure}{\arabic{chapter}-\arabic{figure}}
<% end %>

% Section&TOC style
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{1}
\contentsmargin{2.0em}
<% if chapter_defined? %>
\titleformat{\chapter}
  {
    \centering
    \LARGE
    \bfseries
  }
  {Chapter~\thechapter}
  {1em}
  {}
<% end %>
\titleformat*{\section}{\Large\bfseries}
\titleformat*{\subsection}{\large\bfseries}
\titleformat*{\subsubsection}{\large\bfseries}
<% if chapter_defined? %>
\newskip\@oldcftbeforechapskip
\@oldcftbeforechapskip=\cftbeforechapskip
\let\@oldl@chapter\l@chapter
<% end %>
\newskip\@oldcftbeforesecskip
\@oldcftbeforesecskip=\cftbeforesecskip
\let\@oldl@section\l@section
\let\@oldl@subsection\l@subsection
<% if chapter_defined? %>
\def\l@chapter#1#2{\@oldl@chapter{#1}{#2}\cftbeforechapskip=3pt}
\def\l@section#1#2{\@oldl@section{#1}{#2}\cftbeforechapskip=\@oldcftbeforechapskip\cftbeforesecskip=3pt}
<% else %>
\def\l@section#1#2{\@oldl@section{#1}{#2}\cftbeforesecskip=3pt}
<% end %>
\def\l@subsection#1#2{\@oldl@subsection{#1}{#2}\cftbeforesecskip=\@oldcftbeforesecskip}
\renewcommand*\cftfigpresnum{\figurename~}
\newlength{\@cftfignumwidth@tmp}
\settowidth{\@cftfignumwidth@tmp}{\cftfigpresnum}
\addtolength{\cftfignumwidth}{\@cftfignumwidth@tmp}
\renewcommand{\cftfigaftersnumb}{\quad~}
\renewcommand*\cfttabpresnum{\tablename~}
\newlength{\@cfttabnumwidth@tmp}
\settowidth{\@cfttabnumwidth@tmp}{\cfttabpresnum}
\addtolength{\cfttabnumwidth}{\@cfttabnumwidth@tmp}
\renewcommand{\cfttabaftersnumb}{\quad~}

% Head&Foot style
\let\ps@plain\ps@fancy
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\fancyfoot[C]{\thepage}

% List style
\setlist{noitemsep,partopsep=0pt,topsep=.8ex}
\setlist[1]{labelindent=\parindent}
\setlist[enumerate,1]{label=\arabic*.,ref=\arabic*}
\setlist[enumerate,2]{label*=\arabic*,ref=\theenumi.\arabic*}
\setlist[enumerate,3]{label=\emph{\alph*}),ref=\theenumii\emph{\alph*}}
\setlist[description]{font=\bfseries}

% Footer style
\MakePerPage{footnote}

% Theorem style
\RequirePackage[amsmath,amsthm,hyperref,thref]{ntheorem}
\theoremnumbering{arabic}
\theoremseparator{:}
\theorempreskip{1.2ex plus 0ex minus 1ex}
\theorempostskip{1.2ex plus 0ex minus 1ex}
\theoremheaderfont{\normalfont\bfseries}
\theoremsymbol{}
\def\proofname{\textbf{Proof}}
\theoremstyle{definition}
\newtheorem{definition}{Definition}[<%= top_level %>]
\newtheorem{proposition}{Proposition}[<%= top_level %>]
\newtheorem{lemma}{Lemma}[<%= top_level %>]
\newtheorem{theorem}{Theorem}[<%= top_level %>]
\newtheorem{axiom}{Axiom}[<%= top_level %>]
\newtheorem{corollary}{Corollary}[<%= top_level %>]
\newtheorem{exercise}{Exercise}[<%= top_level %>]
\newtheorem{example}{Example}[<%= top_level %>]
